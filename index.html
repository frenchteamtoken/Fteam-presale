<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FTEAM — Annonce prévente finale</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="logo-fteam.png">

  <style>
    :root{
      --blue:#002395;--white:#fff;--red:#ED2939;
      --bg:#0b0f19;--card:#12182a;--muted:#b9c6ff99;--line:#2636667a;
      --ok:#0E2A17;--okBorder:#1f6a3b;--warn:#4f0e0e;--warnBorder:#963737;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#e7ecff;background:linear-gradient(135deg,#0b0f19 0%,#0b1328 60%,#0b0f19 100%)}
    .wrap{max-width:980px;margin:0 auto;padding:16px}
    header{display:flex;align-items:center;gap:12px}
    header img{width:56px;height:56px;border-radius:12px;background:#000;object-fit:cover;border:1px solid #2a386b66}
    .brand{display:flex;flex-direction:column}
    .pill{align-self:flex-start;display:inline-flex;gap:8px;align-items:center;background:linear-gradient(90deg,var(--blue),var(--white),var(--red));padding:2px;border-radius:999px}
    .pill span{display:inline-block;background:#0d1330;padding:6px 10px;border-radius:999px;font-weight:700;letter-spacing:.3px}
    h1{font-size:clamp(24px,5vw,38px);line-height:1.1;margin:6px 0 0}
    .sub{opacity:.85;font-size:14px}

    .card{background:linear-gradient(180deg,#111a38,#0b1328);border:1px solid var(--line);border-radius:16px;padding:14px;box-shadow:0 12px 30px #0006;margin-top:14px}
    .row{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
    .kpi{flex:1 1 160px;background:#0f1530;border:1px solid #2a386b66;padding:10px 12px;border-radius:12px}
    .kpi b{display:block}
    .muted{color:var(--muted);font-size:13px}

    .banner{
      background:#0E2A17;border:1px solid var(--okBorder);color:#CFF8D2;
      font-weight:700;padding:10px 12px;border-radius:10px;margin:10px 0 0;font-size:14px
    }
    .banner.warn{
      background:var(--warn); border-color:var(--warnBorder); color:#ffd7d7;
    }

    .btn{
      cursor:pointer;border:none;border-radius:12px;padding:12px 14px;
      font-weight:800;color:#0c1330;background:linear-gradient(90deg,var(--blue),var(--white),var(--red));
      box-shadow:0 6px 18px #0007;font-size:14px
    }
    .btn[disabled]{opacity:.55;cursor:not-allowed;filter:grayscale(40%)}
    .ghost{background:#0f1530;border:1px solid #2a386b66;color:#cfe0ff}

    .count{font-size:22px;font-weight:800;margin-top:4px}
    footer{margin:24px 0 6px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <img src="logo-fteam.png" alt="FTEAM">
      <div class="brand">
        <div class="pill"><span>French Team • FTEAM</span></div>
        <h1>Annonce — Prévente finale</h1>
        <div class="sub">Merci à tous les participants. Place à l’étape suivante !</div>
      </div>
    </header>

    <!-- État des présales 1 & 2 -->
    <section class="card">
      <h2 style="margin:0 0 6px">Bilan des présales</h2>
      <div class="banner">✅ Les présales <b>#1</b> et <b>#2</b> sont <b>clôturées</b> (objectifs atteints). Tous les participants ont <b>reçu leurs FTEAM</b>.</div>

      <div class="row" style="margin-top:10px">
        <div class="kpi"><span class="muted">Prévente #1</span><b>Clôturée — 20 SOL</b></div>
        <div class="kpi"><span class="muted">Prévente #2</span><b>Clôturée — 10 SOL</b></div>
        <div class="kpi"><span class="muted">Statut</span><b>Distribution effectuée</b></div>
      </div>

      <div class="banner warn">
        ⚠️ Les adresses d’envoi ne sont plus affichées afin d’éviter tout envoi après clôture.
      </div>
    </section>

    <!-- Annonce prévente #3 -->
    <section class="card">
      <h2 style="margin:0 0 6px">Prévente #3 — Dernière étape</h2>
      <p class="muted" style="margin-top:0">
        La <b>3ᵉ et dernière</b> prévente FTEAM aura lieu dans <b>24 heures</b>, sur une
        <b>plateforme publique</b> (communication mondiale).
        Les informations (lien officiel) seront publiées ici à l’ouverture.
      </p>

      <div class="row">
        <div class="kpi" style="flex:1 1 240px">
          <span class="muted">Début (heure de Paris)</span>
          <b id="startHuman">—</b>
        </div>
        <div class="kpi" style="flex:1 1 240px">
          <span class="muted">Démarre dans</span>
          <div class="count" id="count">--j --h --m --s</div>
        </div>
      </div>

      <div class="row" style="align-items:center">
        <button id="btnLink" class="btn" disabled>Plateforme publique (lien à l’ouverture)</button>
        <button class="btn ghost" id="btnRefresh" onclick="location.reload()">Actualiser</button>
      </div>

      <div class="banner">ℹ️ Restez connectés : le <b>lien officiel</b> de participation s’affichera ici automatiquement à l’ouverture.</div>
    </section>

    <footer class="muted">© <span id="year"></span> French Team — FTEAM</footer>
  </div>

<script>
  // ————— Utilitaires —————
  const fmtParis = (d) => {
    try{
      return new Intl.DateTimeFormat('fr-FR',{
        timeZone:'Europe/Paris',
        weekday:'short', day:'2-digit', month:'short', year:'numeric',
        hour:'2-digit', minute:'2-digit'
      }).format(d).replace(',', '');
    }catch{ return d.toLocaleString(); }
  };

  // ————— Configuration —————
  // Départ dans 24h à partir du chargement (tu peux remplacer par une date fixe si tu veux)
  const START_TS = Date.now() + 24*60*60*1000;
  const START_DATE = new Date(START_TS);

  // Si tu veux mettre un lien dès que ça ouvre, renseigne-le ici (sinon on laisse désactivé)
  const PUBLIC_PLATFORM_URL = ""; // ex: "https://launchpad.exemple.com/fteam"

  // ————— Initialisation UI —————
  document.getElementById('year').textContent = new Date().getFullYear();
  document.getElementById('startHuman').textContent = fmtParis(START_DATE);

  const elCount   = document.getElementById('count');
  const elBtnLink = document.getElementById('btnLink');

  function updateCountdown(){
    const now = Date.now();
    let diff = Math.max(0, START_TS - now);
    const d = Math.floor(diff/86400000); diff%=86400000;
    const h = Math.floor(diff/3600000);  diff%=3600000;
    const m = Math.floor(diff/60000);    diff%=60000;
    const s = Math.floor(diff/1000);
    elCount.textContent = `${String(d).padStart(2,'0')}j ${String(h).padStart(2,'0')}h ${String(m).padStart(2,'0')}m ${String(s).padStart(2,'0')}s`;

    if (now >= START_TS){
      // Ouverture : activer le bouton + définir le lien si on l’a
      elBtnLink.disabled = false;
      if (PUBLIC_PLATFORM_URL){
        elBtnLink.onclick = () => window.open(PUBLIC_PLATFORM_URL, '_blank');
      }else{
        elBtnLink.onclick = () => alert("Le lien sera publié ici très prochainement. Revenez dans quelques instants.");
      }
      clearInterval(timer);
    }
  }

  const timer = setInterval(updateCountdown, 1000);
  updateCountdown();
</script>
</body>
</html>
